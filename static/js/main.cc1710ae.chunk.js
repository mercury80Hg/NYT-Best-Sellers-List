(this.webpackJsonpbooks=this.webpackJsonpbooks||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(8),i=n.n(r),o=n(10),d=n(3),l=n(7),a=n.n(l),u=n(9),j=n(5);function b(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e}))}var h=function(e){var t=Object(c.useRef)(null);return Object(c.useEffect)((function(){if(t.current&&e){var n={rect:void 0,mouseX:void 0,mouseY:void 0},c=t.current,s=function(e){if(c){n.rect||(n.rect=c.getBoundingClientRect()),n.mouseX=e.clientX,n.mouseY=e.clientY;var t=(n.mouseX-n.rect.left)/n.rect.width,s=(n.mouseY-n.rect.top)/n.rect.height;c.style.setProperty("--px",t),c.style.setProperty("--py",s)}};return c.addEventListener("mousemove",s),function(){c.removeEventListener("mousemove",s)}}}),[e]),t},f=n(0);var O=function(e){var t=e.slide,n=e.offset,c=0===n||null,s=h(c);return Object(f.jsxs)("div",{ref:window.screen.width>780?s:null,className:"slide","data-active":c,style:{"--offset":n,"--dir":0===n?0:n>0?1:-1},children:[Object(f.jsx)("div",{className:"slideBackground",style:{backgroundImage:"url('".concat(t.book_image,"')")}}),Object(f.jsx)("div",{className:"slideContent",style:{backgroundImage:c?"unset":"url('".concat(t.book_image,"')")},children:Object(f.jsxs)("div",{className:"slideContentInner",children:[Object(f.jsx)("h2",{className:"mobile",children:"New York Times Best Seller List"}),c?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("img",{src:t.book_image,alt:(t.title,t.subtitle)})}):null,Object(f.jsx)("p",{className:"slideDescription",children:t.description})]})})]})};n(17);var v=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!0),i=Object(j.a)(r,2),l=i[0],h=i[1],v="https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=".concat("UOwTKBrNOYNlCvcQGaHwTYGwKOPtUYtd"),m=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(m,"px")),Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(v);case 2:t=e.sent,console.log("RESPONSE: ",t.results.books),s(t.results.books.reverse()),h(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){window.addEventListener("keydown",(function(e){"ArrowRight"===e.key?N():"ArrowLeft"===e.key&&E()}))}),[]);var x=n,p={slideIndex:x.length-1},g=Object(c.useReducer)((function(e,t){return"PREV"===t.type?Object(d.a)(Object(d.a)({},e),{},{slideIndex:-1===e.slideIndex?-1:(e.slideIndex+1)%x.length}):"NEXT"===t.type?Object(d.a)(Object(d.a)({},e),{},{slideIndex:e.slideIndex===0-x.length?-1:e.slideIndex-1}):void 0}),p),k=Object(j.a)(g,2),y=k[0],w=k[1],N=function(){return w({type:"NEXT"})},E=function(){return w({type:"PREV"})},I=Object(f.jsxs)("div",{className:"headerSlide",children:[Object(f.jsx)("h1",{children:"New York Times"}),Object(f.jsx)("h3",{children:"Best Sellers List"})]});return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{id:"turn",children:"Please Rotate Screen"}),Object(f.jsx)("div",{id:"container",children:l?Object(f.jsx)("h1",{children:"Loading..."}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("div",{className:"slides",children:[-1===y.slideIndex?I:Object(f.jsx)("button",{onClick:E,children:"\u2039"}),Object(o.a)(x).map((function(e,t){var n=x.length+(y.slideIndex-t);return Object(f.jsx)(O,{slide:e,offset:n},t)})),Object(f.jsx)("button",{onClick:N,children:y.slideIndex===0-x.length?"\u21ab":"\u203a"})]})})})]})};i.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)("div",{children:Object(f.jsx)(v,{})})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.cc1710ae.chunk.js.map