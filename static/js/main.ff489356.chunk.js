(this.webpackJsonpbooks=this.webpackJsonpbooks||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(8),i=n.n(r),o=n(10),l=n(3),d=n(7),a=n.n(d),u=n(9),j=n(5);function b(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e}))}var f=function(e){var t=Object(c.useRef)(null);return Object(c.useEffect)((function(){if(t.current&&e){var n={rect:void 0,mouseX:void 0,mouseY:void 0},c=t.current,s=function(e){if(c){n.rect||(n.rect=c.getBoundingClientRect()),n.mouseX=e.clientX,n.mouseY=e.clientY;var t=(n.mouseX-n.rect.left)/n.rect.width,s=(n.mouseY-n.rect.top)/n.rect.height;c.style.setProperty("--px",t),c.style.setProperty("--py",s)}};return c.addEventListener("mousemove",s),function(){c.removeEventListener("mousemove",s)}}}),[e]),t},h=n(0);var O=function(e){var t=e.slide,n=e.offset,c=0===n||null,s=f(c);return Object(h.jsxs)("div",{ref:window.screen.width>780?s:null,className:"slide","data-active":c,style:{"--offset":n,"--dir":0===n?0:n>0?1:-1},children:[Object(h.jsx)("div",{className:"slideBackground",style:{backgroundImage:"url('".concat(t.book_image,"')")}}),Object(h.jsx)("div",{className:"slideContent",style:{backgroundImage:c?"unset":"url('".concat(t.book_image,"')")},children:Object(h.jsxs)("div",{className:"slideContentInner",children:[Object(h.jsx)("h2",{className:"mobile",children:"New York Times Best Seller List"}),c?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("img",{src:t.book_image,alt:(t.title,t.subtitle)})}):null,Object(h.jsx)("p",{className:"slideDescription",children:t.description})]})})]})};n(17);var m=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!0),i=Object(j.a)(r,2),d=i[0],f=i[1],m="https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=".concat("UOwTKBrNOYNlCvcQGaHwTYGwKOPtUYtd");Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(m);case 2:t=e.sent,s(t.results.books.reverse()),f(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m]),Object(c.useEffect)((function(){window.addEventListener("keydown",(function(e){"ArrowRight"===e.key?w():"ArrowLeft"===e.key&&I()}))}),[]);var v=n,x={slideIndex:v.length-1},p=Object(c.useReducer)((function(e,t){return"PREV"===t.type?Object(l.a)(Object(l.a)({},e),{},{slideIndex:-1===e.slideIndex?-1:(e.slideIndex+1)%v.length}):"NEXT"===t.type?Object(l.a)(Object(l.a)({},e),{},{slideIndex:e.slideIndex===0-v.length?-1:e.slideIndex-1}):void 0}),x),g=Object(j.a)(p,2),k=g[0],y=g[1],w=function(){return y({type:"NEXT"})},I=function(){return y({type:"PREV"})},N=Object(h.jsxs)("div",{className:"headerSlide",children:[Object(h.jsx)("h1",{children:"New York Times"}),Object(h.jsx)("h3",{children:"Best Sellers List"})]});return Object(h.jsx)("div",{children:d?Object(h.jsx)("h1",{children:"Loading..."}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"slides",children:[-1===k.slideIndex?N:Object(h.jsx)("button",{onClick:I,children:"\u2039"}),Object(o.a)(v).map((function(e,t){var n=v.length+(k.slideIndex-t);return Object(h.jsx)(O,{slide:e,offset:n},t)})),Object(h.jsx)("button",{onClick:w,children:k.slideIndex===0-v.length?"\u21ab":"\u203a"})]})})})};i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(m,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.ff489356.chunk.js.map