{"version":3,"sources":["services/getAllBooks.js","components/Slide/useTilt.js","components/Slide/Slide.js","App.js","env.js","index.js"],"names":["getAllBooks","url","fetch","then","res","json","data","useTilt","active","ref","useRef","useEffect","current","state","rect","undefined","mouseX","mouseY","el","handleMouseMove","e","getBoundingClientRect","clientX","clientY","px","left","width","py","top","height","style","setProperty","addEventListener","removeEventListener","Slide","slide","offset","className","backgroundImage","book_image","description","App","useState","bookData","setBookData","loading","setLoading","initialUrl","a","response","console","log","results","books","reverse","fetchData","slides","initialState","slideIndex","length","useReducer","event","type","dispatch","headerSlide","onClick","map","i","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ab9af620.chunk.js","sourcesContent":["\nexport function getAllBooks(url) {\n\treturn fetch(url)\n\t\t.then((res) => res.json())\n\t\t.then((data) => data)\n}\n\n","import { useEffect, useRef } from \"react\"\n\nfunction useTilt(active) {\n\tconst ref = useRef(null)\n\n\tuseEffect(() => {\n\t\tif (!ref.current || !active) {\n\t\t\treturn\n\t\t}\n\n\t\tconst state = {\n\t\t\trect: undefined,\n\t\t\tmouseX: undefined,\n\t\t\tmouseY: undefined,\n\t\t}\n\n\t\tlet el = ref.current\n\n\t\tconst handleMouseMove = (e) => {\n\t\t\tif (!el) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tif (!state.rect) {\n\t\t\t\tstate.rect = el.getBoundingClientRect()\n\t\t\t}\n\t\t\tstate.mouseX = e.clientX\n\t\t\tstate.mouseY = e.clientY\n\t\t\tconst px = (state.mouseX - state.rect.left) / state.rect.width\n\t\t\tconst py = (state.mouseY - state.rect.top) / state.rect.height\n\n\t\t\tel.style.setProperty(\"--px\", px)\n\t\t\tel.style.setProperty(\"--py\", py)\n\t\t}\n\n\t\tel.addEventListener(\"mousemove\", handleMouseMove)\n\n\t\treturn () => {\n\t\t\tel.removeEventListener(\"mousemove\", handleMouseMove)\n\t\t}\n\t}, [active])\n\n\treturn ref\n}\n\nexport default useTilt\n","import React from \"react\"\nimport useTilt from \"./useTilt\"\n\nfunction Slide({ slide, offset }) {\n\tconst active = offset === 0 ? true : null\n\tconst ref = useTilt(active)\n\n\treturn (\n\t\t<div\n\t\t\tref={ref}\n\t\t\tclassName=\"slide\"\n\t\t\tdata-active={active}\n\t\t\tstyle={{\n\t\t\t\t\"--offset\": offset,\n\t\t\t\t\"--dir\": offset === 0 ? 0 : offset > 0 ? 1 : -1,\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"slideBackground\"\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundImage: `url('${slide.book_image}')`,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tclassName=\"slideContent\"\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundImage: `url('${slide.book_image}')`,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"slideContentInner\">\n\t\t\t\t\t{/* <h2 className=\"slideTitle\">{slide.title}</h2>\n          <h3 className=\"slideSubtitle\">{slide.subtitle}</h3> */}\n\t\t\t\t\t<p className=\"slideDescription\">{slide.description}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Slide\n","import React, { useState, useEffect, useReducer } from \"react\"\nimport { getAllBooks } from \"./services/getAllBooks\"\nimport Slide from \"./components/Slide/Slide\"\nimport \"./App.scss\"\nimport apiKey from \"./env\"\n\nfunction App() {\n\t//States\n\tconst [bookData, setBookData] = useState([])\n\tconst [loading, setLoading] = useState(true)\n\tconst initialUrl =\n\t\t`https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=${apiKey}`\n\n\t//useEffect will run once on render, gets book data, response is the response from the fetch\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tlet response = await getAllBooks(initialUrl)\n\t\t\tconsole.log(\"RESPONSE: \", response.results.books)\n\n\t\t\tsetBookData(response.results.books.reverse())\n\t\t\tsetLoading(false)\n\t\t}\n\t\tfetchData()\n\t}, [])\n\n\tlet slides = bookData\n\t// console.log(\"BOOK DATA:\", slides)\n\n\tconst initialState = {\n\t\tslideIndex: slides.length - 1,\n\t}\n\tconst slidesReducer = (state, event) => {\n\t\tif (event.type === \"PREV\") {\n\t\t\tconsole.log(\"modulo:\", slides.length)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tslideIndex: \n\t\t\t\t(state.slideIndex + 1) % slides.length\n\t\t\t\t// state.slideIndex === slides.length - 2 ? initialState.slideIndex : state.slideIndex === slides.length - 2 ? 0 : state.slideIndex + 1\n\t\t\t}\n\t\t}\n\t\tif (event.type === \"NEXT\") {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tslideIndex:\n\t\t\t\t\t// state.slideIndex === 0 ? slides.length - 1 : state.slideIndex - 1\n\t\t\t\t\tstate.slideIndex === 0 - slides.length ? -1 : state.slideIndex - 1 \n\t\t\t}\n\t\t}\n\t}\n\tconst [state, dispatch] = useReducer(slidesReducer, initialState)\n\tconsole.log('STATE:', state)\n\n\tconst headerSlide = (\n\t\t<div className=\"headerSlide\">\n\t\t\t<h1>New York Times</h1>\n\t\t\t<h3>Best Sellers List</h3>\n\t\t</div>\n\t)\n\n\treturn (\n\t\t<div>\n\t\t\t{loading ? (\n\t\t\t\t<h1>Loading...</h1>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\n\t\t\t\t\t<div className=\"slides\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t{state.slideIndex ===  -1 ? headerSlide : <button onClick={() => dispatch({ type: \"PREV\" })}>‹</button>}\n\t\t\t\t\t\t\n\t\t\t\t\t\t{[...slides].map((slide, i) => {\n\t\t\t\t\t\t\tlet offset = slides.length + (state.slideIndex - i)\n\t\t\t\t\t\t\treturn <Slide slide={slide} offset={offset} key={i} />\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t\n\t\t\t\t\t\t<button onClick={() => dispatch({ type: \"NEXT\" })}>{state.slideIndex === (0 - slides.length) ? '↫' : '›'}</button>\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default App\n","const apiKey = 'UOwTKBrNOYNlCvcQGaHwTYGwKOPtUYtd'\n\nexport default apiKey","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}