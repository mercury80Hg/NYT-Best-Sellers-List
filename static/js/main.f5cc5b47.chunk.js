(this.webpackJsonpbooks=this.webpackJsonpbooks||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(8),i=n.n(r),o=n(10),d=n(3),a=n(7),l=n.n(a),u=n(9),j=n(5);function b(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e}))}var f=function(e){var t=Object(c.useRef)(null);return Object(c.useEffect)((function(){if(t.current&&e){var n={rect:void 0,mouseX:void 0,mouseY:void 0},c=t.current,s=function(e){if(c){n.rect||(n.rect=c.getBoundingClientRect()),n.mouseX=e.clientX,n.mouseY=e.clientY;var t=(n.mouseX-n.rect.left)/n.rect.width,s=(n.mouseY-n.rect.top)/n.rect.height;c.style.setProperty("--px",t),c.style.setProperty("--py",s)}};return c.addEventListener("mousemove",s),function(){c.removeEventListener("mousemove",s)}}}),[e]),t},h=n(0);var O=function(e){var t=e.slide,n=e.offset,c=0===n||null,s=f(c);return Object(h.jsxs)("div",{ref:s,className:"slide","data-active":c,style:{"--offset":n,"--dir":0===n?0:n>0?1:-1},children:[Object(h.jsx)("div",{className:"slideBackground",style:{backgroundImage:"url('".concat(t.book_image,"')")}}),Object(h.jsx)("div",{className:"slideContent",style:{backgroundImage:"url('".concat(t.book_image,"')")},children:Object(h.jsx)("div",{className:"slideContentInner",children:Object(h.jsx)("p",{className:"slideDescription",children:t.description})})})]})};n(17);var v=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!0),i=Object(j.a)(r,2),a=i[0],f=i[1],v="https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=".concat("UOwTKBrNOYNlCvcQGaHwTYGwKOPtUYtd");Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(v);case 2:t=e.sent,console.log("RESPONSE: ",t.results.books),s(t.results.books.reverse()),f(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){window.addEventListener("keydown",(function(e){"ArrowRight"===e.key?I():"ArrowLeft"===e.key&&E()}))}),[]);var m=n,x={slideIndex:m.length-1},p=Object(c.useReducer)((function(e,t){return"PREV"===t.type?Object(d.a)(Object(d.a)({},e),{},{slideIndex:-1===e.slideIndex?-1:(e.slideIndex+1)%m.length}):"NEXT"===t.type?Object(d.a)(Object(d.a)({},e),{},{slideIndex:e.slideIndex===0-m.length?-1:e.slideIndex-1}):void 0}),x),g=Object(j.a)(p,2),k=g[0],y=g[1],w=Object(h.jsxs)("div",{className:"headerSlide",children:[Object(h.jsx)("h1",{children:"New York Times"}),Object(h.jsx)("h3",{children:"Best Sellers List"})]}),I=function(){return y({type:"NEXT"})},E=function(){return y({type:"PREV"})};return Object(h.jsx)("div",{children:a?Object(h.jsx)("h1",{children:"Loading..."}):Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"slides",children:[-1===k.slideIndex?w:Object(h.jsx)("button",{onClick:E,children:"\u2039"}),Object(o.a)(m).map((function(e,t){var n=m.length+(k.slideIndex-t);return Object(h.jsx)(O,{slide:e,offset:n},t)})),Object(h.jsx)("button",{onClick:I,children:k.slideIndex===0-m.length?"\u21ab":"\u203a"})]})})})};i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.f5cc5b47.chunk.js.map