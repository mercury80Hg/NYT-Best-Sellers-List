(this.webpackJsonpbooks=this.webpackJsonpbooks||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),r=n(8),i=n.n(r),o=n(10),l=n(3),a=n(7),d=n.n(a),u=n(9),b=n(5);function j(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e}))}var h=function(e){var t=Object(s.useRef)(null);return Object(s.useEffect)((function(){if(t.current&&e){var n={rect:void 0,mouseX:void 0,mouseY:void 0},s=t.current,c=function(e){if(s){n.rect||(n.rect=s.getBoundingClientRect()),n.mouseX=e.clientX,n.mouseY=e.clientY;var t=(n.mouseX-n.rect.left)/n.rect.width,c=(n.mouseY-n.rect.top)/n.rect.height;s.style.setProperty("--px",t),s.style.setProperty("--py",c)}};return s.addEventListener("mousemove",c),function(){s.removeEventListener("mousemove",c)}}}),[e]),t},v=n(0);var f=function(e){var t=e.slide,n=e.offset,s=0===n||null,c=h(s);return Object(v.jsxs)("div",{ref:c,className:"slide","data-active":s,style:{"--offset":n,"--dir":0===n?0:n>0?1:-1},children:[Object(v.jsx)("div",{className:"slideBackground",style:{backgroundImage:"url('".concat(t.book_image,"')")}}),Object(v.jsx)("div",{className:"slideContent",style:{backgroundImage:s?"unset":"url('".concat(t.book_image,"')")},children:Object(v.jsxs)("div",{className:"slideContentInner",children:[Object(v.jsx)("h2",{className:"mobile",children:"New York Times Best Seller List"}),s?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("img",{src:t.book_image,alt:(t.title,t.subtitle)})}):null,Object(v.jsx)("p",{className:"slideDescription",children:t.description})]})})]})};n(17);var m=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!0),i=Object(b.a)(r,2),a=i[0],h=i[1],m="https://api.nytimes.com/svc/books/v3/lists/current/hardcover-fiction.json?api-key=".concat("UOwTKBrNOYNlCvcQGaHwTYGwKOPtUYtd");Object(s.useEffect)((function(){function e(){return(e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(m);case 2:t=e.sent,console.log("RESPONSE: ",t.results.books),c(t.results.books.reverse()),h(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(s.useEffect)((function(){window.addEventListener("keydown",(function(e){"ArrowRight"===e.key?I():"ArrowLeft"===e.key&&w()}))}),[]);var O,p=n,x={slideIndex:p.length-1},y=Object(s.useReducer)((function(e,t){return"PREV"===t.type?Object(l.a)(Object(l.a)({},e),{},{slideIndex:-1===e.slideIndex?-1:(e.slideIndex+1)%p.length}):"NEXT"===t.type?Object(l.a)(Object(l.a)({},e),{},{slideIndex:e.slideIndex===0-p.length?-1:e.slideIndex-1}):void 0}),x),g=Object(b.a)(y,2),k=g[0],E=g[1],I=function(){return E({type:"NEXT"})},w=function(){return E({type:"PREV"})},N=Object(v.jsxs)("div",{className:"headerSlide",children:[Object(v.jsx)("h1",{children:"New York Times"}),Object(v.jsx)("h3",{children:"Best Sellers List"})]}),L=document.documentElement,P=document.body,S=(document.querySelector("h1"),function e(t){L.style.setProperty("--bg","limegreen");var n=t.changedTouches[0].clientX;O<n-50?w():O>n+50&&I(),L.style.setProperty("--translate",0),P.removeEventListener("touchmove",X),P.removeEventListener("touchend",e)}),X=function(e){L.style.setProperty("--bg","dodgerblue");var t=O-e.touches[0].clientX,n=t>0?parseInt(-Math.abs(t)):parseInt(Math.abs(t));L.style.setProperty("--translate",n)};return P.addEventListener("touchstart",(function(e){var t=e.touches;if(t&&1===t.length){var n=t[0];O=n.clientX,L.style.setProperty("--bg","#e74c3c"),P.addEventListener("touchmove",X),P.addEventListener("touchend",S)}})),Object(v.jsx)("div",{children:a?Object(v.jsx)("h1",{children:"Loading..."}):Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"slides",children:[-1===k.slideIndex?N:Object(v.jsx)("button",{onClick:w,children:"\u2039"}),Object(o.a)(p).map((function(e,t){var n=p.length+(k.slideIndex-t);return Object(v.jsx)(f,{slide:e,offset:n},t)})),Object(v.jsx)("button",{onClick:I,children:k.slideIndex===0-p.length?"\u21ab":"\u203a"})]})})})};i.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(m,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.abbf545d.chunk.js.map